<!-- BookSwap -->
<!DOCTYPE HTML>

<html>
  <header>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <title> Drexel BookSwap </title>
    <!-- include jQuery -->
    <script src='http://code.jquery.com/jquery-3.1.0.js'></script>
    <script type='text/javascript' src='launchReq.js'></script>
    <script language='javascript'>
      function doLogin(){
        var email = $('#emailInp').val()
        var pword = $('#pwordInp').val()

        // postObjs to pass uname and password to db
        // similar to argObjs->getObjs on client side
        launchPostReq('login', loadPage, 
                        new argObj('email', email), 
                        new argObj('pword', pword)
                     )
      }

      function loadPage(url){
        window.location = url
      }

      function dumbcb(arg){
        console.log('dumbcb() called with arg=' + arg)
      }

      function wrapClick(ev){
        ev.preventDefault()
        doLogin()
      }

      function wrapKeyup(ev){
        ev.preventDefault()
        if (ev.keyCode == 13) // enter
          $('#loginBtn').click()
      }

    </script>
  </header>

  <body>
    <h3> User Login </h3>

    <!-- input box and button -->
    <input type='text' name='emailInp' id='emailInp' placeholder='email'/>
    <input type='text' name='pwordInp' id='pwordInp' placeholder='password'/>
    <button id='loginBtn'> Login </button>
    <script>
      $('#emailInp').keyup(function(ev){ wrapKeyup(ev) })
      $('#pwordInp').keyup(function(ev){ wrapKeyup(ev) })
      $('#loginBtn').click(function(ev){ wrapClick(ev) })
    </script>
  </body>
</html>
